"use strict";System.register(["jsx!pages/page"],function(t,e){function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a,o,c,s,u;return{setters:[function(t){a=t["default"]}],execute:function(){o=function(){function t(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(s){i=!0,a=s}finally{try{!r&&c["return"]&&c["return"]()}finally{if(i)throw a}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;if(void 0!==o)return o.call(r)},u=function(t){function e(){n(this,e);var t=r(this,Object.getPrototypeOf(e).call(this,"anonym"));return t.timeout=2e4,t.identTitle=qiwi.i18n("ident_title"),t.identDescription=qiwi.i18n("ident_description"),t._confirmExit=!1,t}return i(e,t),c(e,[{key:"onShow",value:function(){s(Object.getPrototypeOf(e.prototype),"onShow",this).call(this);var t=this.session.get("receipt");this.title=t.title,this.description=t.description,this.receipt=t.receipt,this.showReceipt=t.hasReceipt,this.canEditIdentification="simple"===t.identificationStatus,this.receiptPrinted=t.receiptPrinted,this.update(),this.updateNavigation(!1)}},{key:"createClass",value:function(){var t=this;return this.loadElements(["textimage","button"]).then(function(n){var r=o(n,2),i=r[0],a=r[1];return s(Object.getPrototypeOf(e.prototype),"createClass",t).call(t,{getInitialState:function(){return{time:10,receiptWarning:!1}},componentDidMount:function(){var t=this,e=this.props.context;this.timer=setInterval(function(){return 0===t.state.time?(t.props.forwardTimeout.call(e),clearInterval(t.timer)):void t.setState({time:--t.state.time})},1e3)},varySeconds:function(t){switch(t){case 2:case 3:case 4:return"секунды";case 1:return"секунду";default:return"секунд"}},render:function(){var t=this,e=(this.props.context,this.props.receiptPrinted?null:React.createElement(i,{img:"img/icons/warning.png",margin:"35",text:"\n								По техническим причинам печать кассового чека терминалов в настоящий момент невозможна.\n								Кассовый чек распечатан контроль-кассовой машиной в составе Терминала.\n								Для его получения обратитесь к владельцу Терминала.\n								Контакты указаны на квитанции или в разделе Информация.\n							"}));return React.createElement("div",{id:"anonym-page"},React.createElement("div",{className:"head"},React.createElement(i,{className:"success",img:"img/icons/ok.png",text:this.props.page.title,margin:"20"}),React.createElement("div",null,this.props.page.description),e),React.createElement("div",{className:"body"},React.createElement("div",null,"В целях реализации требований законодательства РФ,",React.createElement("br",null),"просим Вас обновить Ваши данные"),React.createElement(a,{className:"white-button",text:"Обновить данные",onClick:function(){return t.props.forwardClick()}}),React.createElement("div",null,"Согласно п. 3 ч. 1 ст. 7 115-ФЗ, мы обязаны регулярно обновлять эту информацию.")),React.createElement("div",{className:"timer"},React.createElement("div",null,"Вы будете перенаправлены на форму ввода данных через ",this.state.time," ",this.varySeconds(this.state.time))))}})})}},{key:"state",get:function(){var t=this;return{forwardClick:function(){t.statistics.page_data({forward_type:"user"}),t.forward()},forwardTimeout:function(){t.statistics.page_data({forward_type:"timeout"}),t.forward()},receiptPrinted:this.receiptPrinted,page:{description:this.description,title:this.title}}}}]),e}(a),t("default",u)}}});