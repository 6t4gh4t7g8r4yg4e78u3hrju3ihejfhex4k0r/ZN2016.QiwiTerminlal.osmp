"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),_get=function(a,b,c){for(var d=!0;d;){var e=a,f=b,g=c;h=j=i=void 0,d=!1,null===e&&(e=Function.prototype);var h=Object.getOwnPropertyDescriptor(e,f);if(void 0!==h){if("value"in h)return h.value;var i=h.get;return void 0===i?void 0:i.call(g)}var j=Object.getPrototypeOf(e);if(null===j)return void 0;a=j,b=f,c=g,d=!0}};define("../../projects/transpayments/js/pages/_final",["jsx!pages/page"],function(a){var b=function(a){function b(){_classCallCheck(this,b),_get(Object.getPrototypeOf(b.prototype),"constructor",this).call(this,"_final"),this.timeout=1e4,this._confirmExit=!1}return _inherits(b,a),_createClass(b,[{key:"onShow",value:function(){if(_get(Object.getPrototypeOf(b.prototype),"onShow",this).call(this),this.showPreloader(),"zero"!=this.session.get("payment").status&&this.statistics.page_data({trm_txn_id:this.session.get("payment").txn_id}),"full"==this.session.get("payment").status){var a="Номер телефона/счета: "+this.session.get("maskedPhone")+"\nНомер терминала: "+qiwi.terminal.id+"\nДата платежа: "+(new Date).toLocaleFormat("%d.%m.%Y %H:%M:%S")+"\nКод операции: "+this.session.get("payment").txn_id+"\n\nВАШ ПЛАТЕЖ:\n"+this.session.get("regProvider").shortName+": "+this.session.get("maskedAccount")+"\nПринято: "+this.session.get("payment").cash+" руб.\nЗачислено: "+this.session.get("payment").pay+" руб.\nКомиссия: "+this.session.get("payment").commiss+" руб. \n\nУзнать статус платежа: info.qiwi.com",c={phone:this.session.get("phone"),sum:this.session.get("payment").cash,commiss:this.session.get("payment").commiss,fiscal:!1,title:qiwi.i18n("final_page.payment_success"),description:qiwi.i18n("final_page.thx"),eCheck:a,user_profile:this.session.get("user_profile")};this.storage.set("ident_adv_counter",JSON.stringify(c)),this.exit({url:"./index.html?ereceipt"})}else this.hidePreloader(),this.updateNavigation({nextButton:{visible:!1},prevButton:{visible:!1}}),this.setHeader("","")}},{key:"createClass",value:function(){var a=this;return this.loadElements().then(function(){return _get(Object.getPrototypeOf(b.prototype),"createClass",a).call(a,{render:function(){var a=this.props.context,b="zero"==a.session.get("payment").status?qiwi.i18n("final_page.zero_alert"):qiwi.i18n("final_page.deficient_alert");return React.createElement("div",{id:"final-page"},React.createElement("div",{className:"logo"}),React.createElement("div",{className:"errorText"},React.createElement("div",{className:"icon"}),React.createElement("div",{className:"desc"},b)))}})})}}]),b}(a);return b});