"use strict";System.register(["model/limits","constants/currency","terminal"],function(_export,_context){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var Limits,Limit,Currency,terminal,_createClass;return{setters:[function(_modelLimits){Limits=_modelLimits.Limits,Limit=_modelLimits.Limit},function(_constantsCurrency){Currency=_constantsCurrency["default"]},function(_terminal){terminal=_terminal["default"]}],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_export("default",new(function(){function _class(){_classCallCheck(this,_class),this.currency=Currency.DEFAULT,this.identificationRequired=!1,this.offertus="",this.wallet=null,this._sideInfo={}}return _createClass(_class,[{key:"limit",value:function(){var currency=arguments.length<=0||void 0===arguments[0]?this.currency:arguments[0];return this.limits?this.limits.forCurrency(currency):null}},{key:"fullName",get:function(){return this._fullName||this._shortName||""},set:function(value){this._fullName=value}},{key:"shortName",get:function(){return this._shortName||this._fullName||""},set:function(value){this._shortName=value}},{key:"id",set:function(value){var _this=this;value&&Number(value)&&!isNaN(Number(value))&&(this._id=Number(value),terminal.send("GetMaxSummByPrv",this._id,"GetMaxSummByPrv").then(function(_ref){var GetMaxSummByPrv=_ref.GetMaxSummByPrv;return _this.terminalLimit=new Limit({max:Number(GetMaxSummByPrv)})}))},get:function(){return this._id}},{key:"qw",set:function(value){this._qw=Number(value)},get:function(){return this._qw}},{key:"walletId",get:function(){return this.wallet||null},set:function(value){value&&(this.wallet=Number(value))}},{key:"limits",set:function(input){var _this2=this;input instanceof Limits?this._limits=input:input instanceof Limit?this._limits=new Limits(input):this._limits instanceof Array?input.forEach(function(item){return _this2._limits.addLimit(item)}):this._limits?this._limits.addLimit(input):this._limits=new Limits(input)},get:function(){return this._limits}},{key:"terminalLimit",get:function(){return this._terminalLimit||new Limit},set:function(v){this._terminalLimit=Limits.mix(this._terminalLimit,v instanceof Limit?v:new Limit(v))}},{key:"identificationRequired",get:function(){return this._identificationRequired},set:function(value){this._identificationRequired="boolean"==typeof value?value:this._identificationRequired}},{key:"offertus",get:function(){return this._offertus},set:function(value){this._offertus=value||""}},{key:"currency",get:function(){return this._currency},set:function(value){this._currency=Number(value)||643}},{key:"sideInfo",get:function(){return this._sideInfo||{}},set:function(input){for(var key in input)this._sideInfo[key]=input[key]}}]),_class}()))}}});