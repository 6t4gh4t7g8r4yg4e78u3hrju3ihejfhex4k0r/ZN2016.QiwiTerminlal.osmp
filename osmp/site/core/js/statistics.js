"use strict";System.register(["terminal"],function(_export,_context){function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var terminal,_createClass;return{setters:[function(_terminal){terminal=_terminal["default"]}],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_export("default",new(function(){function _class(){_classCallCheck(this,_class),this._appId="",this._scenario="",this._page=""}return _createClass(_class,[{key:"_send",value:function(type,data,page){data||(data={}),data.app_name=this._appId,data.app_version=this._appVersion,this._scenario&&(data.app_scenario=this._scenario);for(var key in data)null!==data[key]&&void 0!==data[key]&&(data[key]=data[key].toString());terminal.send("statistics.action",JSON.stringify({type:type,page:page,date:(new Date).toLocaleFormat("%d.%m.%Y %H:%M:%S"),data:data}))}},{key:"init",value:function(id,scenario,appVersion){this._appId=id,this._scenario=scenario,this._appVersion=appVersion}},{key:"startApp",value:function(data){this._send("start",data,"app_start")}},{key:"showPage",value:function(name){this._page=name,this._send("show",null,name)}},{key:"showPopup",value:function(name){this._send("show",null,name)}},{key:"page_data",value:function(fields){this._send("data",fields,this._page)}},{key:"online",value:function(_ref){var request=_ref.request,result=_ref.result;this._send("request",_defineProperty({},request,result.toString()),this._page)}},{key:"error",value:function(_error){this._send("error",_error,this._page)}},{key:"validation",value:function(_ref2){var request=_ref2.request,result=_ref2.result;this._send("validation",_defineProperty({},request,result.toString()),this._page)}},{key:"navigate",value:function(_ref3){_ref3.type}},{key:"click",value:function(data){this._send("click",data,this._page)}},{key:"popup",value:function(_ref4){_ref4.type}},{key:"note",value:function(_ref5){var value=_ref5.value;this._send("note",{value:value},this._page)}},{key:"money",value:function(_ref6){var cash=_ref6.cash,to_provider=_ref6.to_provider,to_change=_ref6.to_change,balance=_ref6.balance;this._send("money",{cash:cash,balance:balance,to_provider:to_provider,to_change:to_change},this._page)}},{key:"exit",value:function(_ref7){var _ref7$type=_ref7.type,type=void 0===_ref7$type?"":_ref7$type;this._send("exit",{type:type},this._page)}}]),_class}()))}}});