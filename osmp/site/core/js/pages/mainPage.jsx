"use strict";System.register(["jsx!elements/header","elements/navigation.jsx","jsx!elements/preloader","jsx!elements/popup","jsx!elements/logo"],function(_export,_context){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var Header,Navigation,Preloader,Popup,Logo,_extends,_createClass,_React,Component,_ReactRedux,connect,MainPage,mapStateToProps;return{setters:[function(_jsxElementsHeader){Header=_jsxElementsHeader["default"]},function(_elementsNavigationJsx){Navigation=_elementsNavigationJsx["default"]},function(_jsxElementsPreloader){Preloader=_jsxElementsPreloader["default"]},function(_jsxElementsPopup){Popup=_jsxElementsPopup["default"]},function(_jsxElementsLogo){Logo=_jsxElementsLogo["default"]}],execute:function(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_React=React,Component=_React.Component,_ReactRedux=ReactRedux,connect=_ReactRedux.connect,MainPage=function(_Component){function MainPage(props){return _classCallCheck(this,MainPage),_possibleConstructorReturn(this,Object.getPrototypeOf(MainPage).call(this,props))}return _inherits(MainPage,_Component),_createClass(MainPage,[{key:"render",value:function(){var ClassObject=this.props.reactClass||"div",pageRef=this.props.pageRef,ModalObject=this.props.modal?this.props.modal.page:"div";return React.createElement("div",{onClick:pageRef?function(){for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return pageRef&&pageRef.onClick.apply(pageRef,args)}:null},React.createElement(Logo,{image:this.props.logo}),React.createElement("div",{id:"version"},qiwi.application.toString()),this.props.popup?React.createElement(Popup,_extends({},this.props.popup,{hide:function(){return pageRef&&pageRef.hidePopup.call(pageRef)}})):null,this.props.preloader?React.createElement(Preloader,_extends({},this.props.preloader,{hide:function(){return pageRef&&pageRef.hidePreloader.call(pageRef)}})):null,this.props.modal?React.createElement(ModalObject,_extends({},this.props.modal.data,{hide:function(){return pageRef&&pageRef.hideModal.call(pageRef)},context:pageRef})):null,this.props.header?React.createElement(Header,this.props.header):null,pageRef&&this.props.pageData?React.createElement(ClassObject,_extends({},this.props.pageData,{context:pageRef,onUpdate:function(){for(var _len2=arguments.length,rest=Array(_len2),_key2=0;_len2>_key2;_key2++)rest[_key2]=arguments[_key2];return pageRef&&pageRef.onUpdate.apply(pageRef,rest)}})):null,React.createElement(Navigation,_extends({},this.props.navigation,{forward:function(){return pageRef&&pageRef.performForward.call(pageRef)},backward:function(){return pageRef&&pageRef.performBackward.call(pageRef)},exit:function(){return pageRef&&pageRef.performExit.call(pageRef)},disabledForward:function(){return pageRef&&pageRef.disabledForward.call(pageRef)}})))}}]),MainPage}(Component),MainPage.defaultProps={header:null,preloader:null,popup:null,logo:null,navigation:{}},mapStateToProps=function(state){var appState=state.appState,pageData=appState.pageData||{},newProps={header:appState.header,preloader:appState.preloader,popup:appState.popup,logo:appState.logo,pageData:appState.pageData,navigation:appState.navigation,reactClass:appState.reactClass,pageRef:appState.pageRef,modal:appState.modal};return qiwi.utils.deepExtend(newProps,pageData)},_export("default",connect(mapStateToProps)(MainPage))}}});