"use strict";System.register(["terminal","statistics","storage"],function(_export,_context){var terminal,Statistics,storage,_typeof,_extends;return{setters:[function(_terminal){terminal=_terminal["default"]},function(_statistics){Statistics=_statistics["default"]},function(_storage){storage=_storage["default"]}],execute:function(){_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol?"symbol":typeof obj},_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_export("default",{run:function(input){terminal.send("EmbedParams","");var parameters=_extends({url:qiwi.constants.defaultUrl},input),type=parameters.type,timeout=parameters.timeout,url=parameters.url;return Statistics.exit({type:type||(timeout?"timeout":"user")}),document.location.href=url,window.watchMaratl&&(console.log("[Exit to: "+url+"]"),storage.forEach(function(item,key){try{item="object"===_typeof(JSON.parse(item))?"(JSON)\n"+JSON.stringify(JSON.parse(item),null,"	"):"("+("undefined"==typeof item?"undefined":_typeof(item))+")\n"+item}catch(e){}console.log("Storage ["+key+"] "+item)})),Promise.resolve()}})}}});