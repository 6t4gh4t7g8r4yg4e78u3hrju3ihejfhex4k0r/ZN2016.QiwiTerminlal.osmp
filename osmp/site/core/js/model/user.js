"use strict";System.register([],function(_export,_context){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass;return{setters:[],execute:function(){_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_export("default",new(function(){function _class(){_classCallCheck(this,_class),this.reset()}return _createClass(_class,[{key:"reset",value:function(){this._login="",this._pin="",this._exist=!1,this._hasPin=!1,this._offerAccepted=!1,this._balances=[],this._invoices=[],this._favorites=[],this._hasUnpaidInvoices=!1,this._identificationStatus="",this._ussdEnabled=!1,this._limits={balanceLimitTotal:0,balanceLimitCurrent:0,spendLimitTotal:0,spendLimitUsed:0},this._subscriptionFee={isSmsNotificationEnabled:!1,isSmsNotificationPayed:!1,smsNotificationPayAmounts:[]},this._checkUserXmlResponse="",this._ussdEnabled=!1,this._identification={status:"",needIdent:!1},this._mfStatus={state:!1,prvId:0}}},{key:"getBalanceByCode",value:function(code,title){var _balances$find=this._balances.find(function(curr){return curr.currency==code.toString()}),sum=_balances$find.sum;return title?qiwi.utils.toSum(sum)+" "+title:sum}},{key:"getSmsNotificationPayAmountByCode",value:function(code,title){var _subscriptionFee$smsN=this._subscriptionFee.smsNotificationPayAmounts.find(function(item){return item.currency==code}),amount=_subscriptionFee$smsN.amount;return title?qiwi.utils.toSum(amount)+" "+title:amount}},{key:"subscriptionFee",set:function(value){this._subscriptionFee=value},get:function(){return this._subscriptionFee}},{key:"currentCurrency",set:function(value){this._currentCurrency=value},get:function(){return this._currentCurrency||"643"}},{key:"currentCurrencyTitle",set:function(value){this._currentCurrencyTitle=value},get:function(){return this._currentCurrencyTitle}},{key:"offerAccepted",set:function(value){this._offerAccepted=value},get:function(){return this._offerAccepted}},{key:"ussdEnabled",set:function(value){this._ussdEnabled=value},get:function(){return this._ussdEnabled}},{key:"mfStatus",set:function(value){this._mfStatus=value},get:function(){return this._mfStatus}},{key:"identificationStatus",set:function(value){this._identificationStatus=value},get:function(){return this._identificationStatus}},{key:"limits",set:function(value){this._limits=value},get:function(){return this._limits}},{key:"checkUserXmlResponse",set:function(value){this._checkUserXmlResponse=value},get:function(){return this._checkUserXmlResponse}},{key:"pin",set:function(value){this._pin=value},get:function(){return this._pin}},{key:"balances",set:function(value){this._balances=value},get:function(){return this._balances}},{key:"invoices",set:function(value){this._hasUnpaidInvoices=value.length>0,this._invoices=value},get:function(){return this._invoices}},{key:"hasUnpaidInvoices",get:function(){return this._hasUnpaidInvoices},set:function(value){this._hasUnpaidInvoices=value}},{key:"login",set:function(value){this._login=value},get:function(){return{src:this._login&&this._login.length>0?this._login:"",formatted:this._login&&this._login.length>0?qiwi.utils.mask(this._login,"+7(***)-***-**-**"):""}}},{key:"exist",set:function(value){this._exist=value},get:function(){return this._exist}},{key:"hasPin",set:function(value){this._hasPin=value},get:function(){return this._hasPin}},{key:"defaultPin",get:function(){return"666"}},{key:"authorizeState",get:function(){return{authorized:this._login&&this._login.length>0&&this._pin&&this._pin.length>0,full:this._pin&&this._pin.length>0&&this._pin!=this.defaultPin}}}]),_class}()))}}});