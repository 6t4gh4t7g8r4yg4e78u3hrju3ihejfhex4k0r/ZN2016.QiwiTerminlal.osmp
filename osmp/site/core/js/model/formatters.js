"use strict";System.register([],function(_export,_context){function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _get,_createClass,Formatter,RegexpFormatter,TemplateFormatter,PhoneFormatter,SecureFormatter;return{setters:[],execute:function(){_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Formatter=function(){function Formatter(){var params=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,Formatter),this._params=params}return _createClass(Formatter,[{key:"format",value:function(value){return value}}]),Formatter}(),_export("RegexpFormatter",RegexpFormatter=function(_Formatter){function RegexpFormatter(regexp,replace){return _classCallCheck(this,RegexpFormatter),_possibleConstructorReturn(this,Object.getPrototypeOf(RegexpFormatter).call(this,{regexp:regexp,replace:replace}))}return _inherits(RegexpFormatter,_Formatter),_createClass(RegexpFormatter,[{key:"format",value:function(value){return value.replace(this._params.regexp,this._params.replace)}}]),RegexpFormatter}(Formatter)),_export("TemplateFormatter",TemplateFormatter=function(_Formatter2){function TemplateFormatter(template,symbol){return _classCallCheck(this,TemplateFormatter),_possibleConstructorReturn(this,Object.getPrototypeOf(TemplateFormatter).call(this,{symbol:symbol||"#",template:template}))}return _inherits(TemplateFormatter,_Formatter2),_createClass(TemplateFormatter,[{key:"format",value:function(value){if(!value)return"";for(var result="",current=0,i=0;i<this._params.template.length&&!(value.length<=current);i++){var templateChar=this._params.template.charAt(i);result+=templateChar===this._params.symbol?value.charAt(current++):templateChar}return result}}]),TemplateFormatter}(Formatter)),_export("PhoneFormatter",PhoneFormatter=function(_TemplateFormatter){function PhoneFormatter(){return _classCallCheck(this,PhoneFormatter),_possibleConstructorReturn(this,Object.getPrototypeOf(PhoneFormatter).call(this,"+7(###)###-##-##"))}return _inherits(PhoneFormatter,_TemplateFormatter),_createClass(PhoneFormatter,[{key:"format",value:function(value){return value&&"8"!==value?_get(Object.getPrototypeOf(PhoneFormatter.prototype),"format",this).call(this,value.slice(0,18)).replace(/^(.*?)\s*$/g,"$1"):"+7"}}]),PhoneFormatter}(TemplateFormatter)),_export("SecureFormatter",SecureFormatter=function(_Formatter3){function SecureFormatter(){return _classCallCheck(this,SecureFormatter),_possibleConstructorReturn(this,Object.getPrototypeOf(SecureFormatter).apply(this,arguments))}return _inherits(SecureFormatter,_Formatter3),_createClass(SecureFormatter,[{key:"format",value:function(value){var part=this._params.part||.25,symbol=this._params.symbol||"X";value=value.toString();var lengthWithoutSpaces=value.replace(/ /g,"").length,maskLeft=lengthWithoutSpaces-2*Math.floor(lengthWithoutSpaces*part),symbolsParsed=0;return value.split("").map(function(char){return" "!==char&&++symbolsParsed&&symbolsParsed>Math.floor(lengthWithoutSpaces*part)&&maskLeft?maskLeft--&&symbol:char}).join("")}}]),SecureFormatter}(Formatter)),_export("PhoneFormatter",PhoneFormatter),_export("TemplateFormatter",TemplateFormatter),_export("RegexpFormatter",RegexpFormatter),_export("SecureFormatter",SecureFormatter)}}});